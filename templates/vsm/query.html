{% extends '../virs-base.html' %}

{% block title %}{{ title }}{% endblock title%}

{% block content %}
    <div class="row">
        <form id="query-form" action=pesquisa method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="col-lg-12">
                <div class="input-group">
                    <input type="text" class='form-control' name='query' placeholder="Consulta na Coleção" required>
                    <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
                    </span>
                </div>
            </div>
        </form>
    </div>

    <h5>DOCS</h5>
    <pre>{{ docs }}</pre>

    <h4>TFIDFS</h4>
    <table>
    {% for doc in docs %}
        <tr>
            <td>{{ doc }}</td>
            {% for tf in tfidfs|index:forloop.counter0 %}
                <td>{{ tf|around }}</td>
            {% endfor %}
        </tr>
    {% endfor %}
    <table>

    <h4>WQ</h4>
    <table>
    {% for w in wq %}
        <tr>
            <td>{{ w }}</td>
        </tr>
    {% endfor %}
    <table>

    <h4>RANKING</h4>
    <table>
    {% for r in ranking %}
        <tr>
            <td>{{ r.0 }}</td>
            <td>{{ r.1 }}</td>
        </tr>
    {% endfor %}
    <table>

    <div class="card">
        <div class="block">
            <h3>Resultados</h3>
        </div>
        <div class="row">
            <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6"><h4 class="block">Similaridades</h4></div>
            <div class="col-lg-10 col-md-9 col-sm-8 col-xs-6"><h4 class="block">Documentos</h4></div>
        </div>
    {% for doc in ranking %}
        <div class="row">
            <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">{{ doc.0 }}</div>
            <div class="col-lg-10 col-md-9 col-sm-8 col-xs-6">{{ doc.1 }}</div>
            <div class="col-lg-12"><hr></div>
        </div>
    {% endfor %}
    </div>


{% endblock content %}